!function(r){"use strict";r.fn.lightbox=function(t){var l={margin:50,nav:!0,blur:!0,minSize:0},a={items:[],lightbox:null,image:null,current:null,locked:!1,caption:null,init:function(t){a.items=t;var i="lightbox-"+Math.floor(1e5*Math.random()+1);r("body").append('<div id="'+i+'" class="lightbox" style="display:none;"><a href="#" class="lightbox__close lightbox__button"></a><a href="#" class="lightbox__nav lightbox__nav--prev lightbox__button"></a><a href="#" class="lightbox__nav lightbox__nav--next lightbox__button"></a><div href="#" class="lightbox__caption"><p></p></div></div>'),a.lightbox=r("#"+i),a.caption=r(".lightbox__caption",a.lightbox),1<a.items.length&&l.nav?r(".lightbox__nav",a.lightbox).show():r(".lightbox__nav",a.lightbox).hide(),a.bindEvents()},loadImage:function(){l.blur&&r("body").addClass("blurred"),r("img",a.lightbox).remove(),a.lightbox.fadeIn("fast").append('<span class="lightbox__loading"></span>');var t=r('<img src="'+r(a.current).attr("href")+'" draggable="false">');r(t).on("load",function(){r(".lightbox__loading").remove(),a.lightbox.append(t),a.image=r("img",a.lightbox).hide(),a.resizeImage(),a.setCaption()})},setCaption:function(){var t=r(a.current).data("caption");t&&0<t.length?(a.caption.fadeIn(),r("p",a.caption).text(t)):a.caption.hide()},resizeImage:function(){var t,i,e,n,o;i=r(window).height()-l.margin,e=r(window).outerWidth(!0)-l.margin,a.image.width("").height(""),n=a.image.height(),e<(o=a.image.width())&&(t=e/o,o=e,n=Math.round(n*t)),i<n&&(t=i/n,n=i,o=Math.round(o*t)),a.image.width(o).height(n).css({top:(r(window).height()-a.image.outerHeight())/2+"px",left:(r(window).width()-a.image.outerWidth())/2+"px"}).show(),a.locked=!1},getCurrentIndex:function(){return r.inArray(a.current,a.items)},next:function(){if(a.locked)return!1;a.locked=!0,a.getCurrentIndex()>=a.items.length-1?r(a.items[0]).click():r(a.items[a.getCurrentIndex()+1]).click()},previous:function(){if(a.locked)return!1;a.locked=!0,a.getCurrentIndex()<=0?r(a.items[a.items.length-1]).click():r(a.items[a.getCurrentIndex()-1]).click()},bindEvents:function(){r(a.items).click(function(t){if(a.lightbox.is(":visible")||!(r(window).width()<l.minSize||r(window).height()<l.minSize)){var i=r(this)[0];t.preventDefault(),a.current=i,a.loadImage(),r(document).on("keydown",function(t){27===t.keyCode&&a.close(),39===t.keyCode&&a.next(),37===t.keyCode&&a.previous()})}else r(this).attr("target","_blank")}),a.lightbox.on("click",function(t){this===t.target&&a.close()}),r(a.lightbox).on("click",".lightbox__nav--prev",function(){return a.previous(),!1}),r(a.lightbox).on("click",".lightbox__nav--next",function(){return a.next(),!1}),r(a.lightbox).on("click",".lightbox__close",function(){return a.close(),!1}),r(window).resize(function(){a.image&&a.resizeImage()})},close:function(){r(document).off("keydown"),r(a.lightbox).fadeOut("fast"),r("body").removeClass("blurred")}};r.extend(l,t),a.init(this)}}(jQuery);
//# sourceMappingURL=jquery.lightbox.min.js.map